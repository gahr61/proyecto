extends ../layout.pug

block contenido
	//para obtener variables desde el controlador app.js
	//hacemos una interpolacion con #{variableLocals} la cual contiene la informacion
	//que necesitamos, en este caso user
	p Hola #{user.email}

	div#imagenes
		for imagen in imagenes
			div.img-container
				a(href="/app/imagenes/"+imagen._id+"")
				h2 #{imagen.title}

				img(src="/public/images/"+imagen._id+"."+imagen.extension, class="main-img")
				if(typeof imagen.creator != "undefined")
					p Imagen creada por #{imagen.creator.email}


	script(id="image-template" type="text/x-handlebars-template")
		div.img-container
			a(href="/app/imagenes/{{id}}")
				h2 {{title}}
			img(src="/public/images/{{id}}.{{extension}}", class="main-img")
	script(src="/public/js/client.js")